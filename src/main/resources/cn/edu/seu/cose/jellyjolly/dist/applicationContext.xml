<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"

       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
">
    <import resource="persistenceContext.xml" />
    <bean class="org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping" />
    <bean class="org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter" />
    <bean id="viewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver">
        <property name="prefix" value="/WEB-INF/jsp/" />
        <property name="suffix" value=".jsp" />
    </bean>
    <bean id="frameBuilder" class="cn.edu.seu.cose.jellyjolly.controller.FrameBuilder">
        <constructor-arg ref="blogInfoDataAccess" />
        <constructor-arg ref="blogPageDataAccess" />
        <constructor-arg ref="blogPostDataAccess" />
        <constructor-arg ref="categoryDataAccess" />
        <constructor-arg ref="linkDataAccess" />
    </bean>
    <bean id="adminUserController" class="cn.edu.seu.cose.jellyjolly.controller.AdminUserController">
        <constructor-arg ref="adminUserDataAccess" />
    </bean>
    <bean id="blogPageController" class="cn.edu.seu.cose.jellyjolly.controller.BlogPageController">
        <constructor-arg ref="blogPageDataAccess" />
        <constructor-arg ref="frameBuilder" />
    </bean>
    <bean id="blogPostController" class="cn.edu.seu.cose.jellyjolly.controller.BlogPostController">
        <constructor-arg ref="blogPostDataAccess" />
        <constructor-arg ref="categoryDataAccess" />
        <constructor-arg ref="frameBuilder" />
    </bean>
    <bean id="blogPostListController" class="cn.edu.seu.cose.jellyjolly.controller.BlogPostListController">
        <constructor-arg ref="blogPostDataAccess" />
        <constructor-arg ref="frameBuilder" />
    </bean>
    <bean id="commentController" class="cn.edu.seu.cose.jellyjolly.controller.CommentController">
        <constructor-arg ref="commentDataAccess" />
    </bean>
    <bean id="notFoundController" class="cn.edu.seu.cose.jellyjolly.controller.NotFoundController">
        <constructor-arg ref="frameBuilder" />
    </bean>
    <bean name="adminFrameBuilder" class="cn.edu.seu.cose.jellyjolly.controller.AdminFrameBuilder">
        <constructor-arg ref="blogInfoDataAccess" />
        <constructor-arg ref="blogPageDataAccess" />
    </bean>
    <bean id="adminUserControlPanelController" class="cn.edu.seu.cose.jellyjolly.controller.AdminControlPanelController">
        <constructor-arg ref="adminFrameBuilder" />
        <constructor-arg ref="adminUserDataAccess" />
        <constructor-arg ref="blogInfoDataAccess" />
        <constructor-arg ref="blogPageDataAccess" />
        <constructor-arg ref="blogPostDataAccess" />
        <constructor-arg ref="categoryDataAccess" />
        <constructor-arg ref="commentDataAccess" />
        <constructor-arg ref="linkDataAccess" />
    </bean>
    <bean id="installationController" class="cn.edu.seu.cose.jellyjolly.controller.InstallationController">
        <constructor-arg ref="initializationDataAccess" />
    </bean>
</beans>
